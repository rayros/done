<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="todo-main" attributes=""
  on-select-category="{{selectCategory}}"
  on-new-category="{{newCategory}}"
  on-edit-task="{{editTask}}"
>
  <template>
    <link rel="stylesheet" href="todo-main.css">
     <todo-new-category id="newCategory" hidden></todo-new-category>
    <todo-new-task id="newTask" hidden></todo-new-task>
    <core-drawer-panel id="drawer" responsiveWidth="740px">
      <!-- Drawer -->
      <core-header-panel drawer>
        <todo-categories id="categories"></todo-categories>
      </core-header-panel>
      <!-- Main -->
      <core-header-panel main>
        <core-toolbar>
          <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>
          <div class="category" flex>{{categoryName}}</div>
          <paper-menu-button>
            <paper-icon-button icon="more-vert" noink></paper-icon-button>
            <paper-dropdown class="dropdown" halign="right">
            <core-menu>
              <paper-item id="edit">Edit</paper-item>
              <paper-item id="remove" on-click="{{removeCategory}}">Remove</paper-item>
              <hr/>
              <paper-item id="reset">Reset database</paper-item>
            </core-menu>
            </paper-dropdown>
          </paper-menu-button>
        </core-toolbar>
        <paper-fab class="core-header" id="add" icon="add" on-click="{{newTask}}"></paper-fab>
        <div id="lists"></div>
      </core-header-panel>
    </core-drawer-panel>

    <core-a11y-keys target="{{parentElement}}" keys="alt+t" on-keys-pressed="{{newTask}}"></core-a11y-keys>
    <core-a11y-keys target="{{parentElement}}" keys="alt+c" on-keys-pressed="{{newCategory}}"></core-a11y-keys>

  </template>
<script src="todo-main.js">
</script>
</polymer-element>
